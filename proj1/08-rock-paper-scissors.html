<!DOCTYPE html>
<html>

<head>
    <title>Rock-Paper-Scissors</title>
    <style>
    </style>
</head>

<body>
    <p>Rock Paper Scissors</p>
    <button onclick="
    //console.log(Math.random()); //generates betw 0-1 when empty
    //steps, we click a button
    // computer randomly selects a Move
    //compare the moves to get the result
    //new - update a score
    //display the result in a popup
    
    //call the computer move function
    //pickComputerMove();
    //const computerMove = pickComputerMove(); 
    //this time store the returned value from the function into a const var.
    //computermove name does not conflicts with below cos it is in a scope - coly
    //let result = '';

    //console.log-computerMove; //scope helps above name conflicts in coly brac., limit

    
    //alert(result); 
    //alert(`You picked rock. Computer picked ${computerMove}. ${result}`); 
    playGame('rock');
    ">Rock</button>

    <button onclick="
    playGame('paper');
    ">Paper</button>

    <button onclick="
    playGame('scissors');
    ">Scissors</button>
    <!-- //to reset, set property to be zero -->
    <button onclick="
    score.wins = 0;
    score.losses = 0;
    score.ties = 0;
    localStorage.removeItem('score');
    ">Reset Score</button>
    <script>
        //create  a object for the score, has property
        const score = 
        // {
        //     wins: 0,
        //     losses: 0,
        //     ties: 0
        // };
 
        JSON.parse(localStorage.getItem('score'));

        if(score === null) { //!null
            score = {
            wins: 0,
            losses: 0,
            ties: 0
            };
        }

        //or use
        // let score = JSON.parse(localStorage.getItem('score'))
        // ||  {wins: 0,
        //     losses: 0,
        //     ties: 0
        //     };



        function playGame(playerMove)
        {
            const computerMove = pickComputerMove();
            let result = '';

        if (playerMove === 'scissors') {
            if (computerMove === 'rock') {
            result = 'You lose';
        } else if (computerMove === 'paper') {
            result = 'You win';
        } else if (computerMove === 'scissors') {
            result = 'Tie';
        }
        } else if (playerMove === 'paper') {
            if (computerMove === 'rock') {
            result = 'You win';
        } else if (computerMove === 'paper') {
            result = 'Tie';
        } else if (computerMove === 'scissors') {
            result = 'You lose';
        }

        } else if (playerMove === 'rock') {
            if (computerMove === 'rock') {
            result = 'Tie';
        } else if (computerMove === 'paper') {
            result = 'You lose';
        } else if (computerMove === 'scissors') {
            result = 'You win';
        }

        }

        if (result === 'You win') {
            score.wins += 1;
        } else if (result === 'You lose') {
            score.losses += 1;
        } else if (result === 'Tie') {
            score.ties += 1;
        }

        localStorage.setItem('score', JSON.stringify(score)); //conv obj score to string
        alert(`You picked ${playerMove}. 
Computer picked ${computerMove}. 
${result}.
Wins: ${score.wins}, Losses: ${score.losses},Ties: ${score.ties}`);

        }
        //let computerMove = ''; //var outside the function, scope
        function pickComputerMove() {
            const randomNumber = Math.random();

            let computerMove = '';

            if (randomNumber >= 0 && randomNumber < 1 / 3) {
                //console.log('rock');
                computerMove = 'rock';
            } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
                //console.log('paper');
                computerMove = 'paper';
            } else if (randomNumber >= 2 / 3 && randomNumber < 1) {
                //console.log('scissors');
                computerMove = 'scissors';
            }
            return computerMove;
        }

    </script>
</body>

</html>